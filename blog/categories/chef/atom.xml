<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: chef | For The Love Technologies]]></title>
  <link href="http://ppt.github.com/blog/categories/chef/atom.xml" rel="self"/>
  <link href="http://ppt.github.com/"/>
  <updated>2013-02-03T11:17:03+07:00</updated>
  <id>http://ppt.github.com/</id>
  <author>
    <name><![CDATA[Praphan Theeravanvilai]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[chef]]></title>
    <link href="http://ppt.github.com/blog/2013/01/29/chef/"/>
    <updated>2013-01-29T08:30:00+07:00</updated>
    <id>http://ppt.github.com/blog/2013/01/29/chef</id>
    <content type="html"><![CDATA[<h2 id="install-rvm-to-specific-user">Install rvm to specific user</h2>

<p>``` ruby Using Chef Environment “mycookbook/myrecipe/recipe/default.rb”
package ‘curl’</p>

<p>execute “install rvm” do
  cwd “/home/vagrant”
  user ‘vagrant’
  environment ‘HOME’ =&gt; “/home/vagrant”
  command “curl -L https://get.rvm.io | bash -s stable –ruby”</p>

<p># manual checks
  # not_if do
  #   File.exists?(“/home/vagrant/.ssh”)
  # end</p>

<p># not execute if file exists
  creates “/home/vagrant/.ssh”
<code>
</code> ruby Using Sudo to set environment and run user profile “mycookbook/myrecipe/recipe/default.rb”
package ‘curl’</p>

<p>execute “install rvm” do
  # su need ROOT user
  command “su - vagrant -c ‘curl -L https://get.rvm.io | bash -s stable –ruby’”</p>

<p># not execute if file exists
  creates “/home/vagrant/.ssh”
end</p>

<p>```</p>
]]></content>
  </entry>
  
</feed>
